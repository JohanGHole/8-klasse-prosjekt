namespace SpriteKind {
    export const SelectableCharacter = SpriteKind.create()
    export const Background = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (showCharacterScreen) {
        thePlayer = sprites.readDataSprite(currently_selected_character, "player")
        thePlayer.setFlag(SpriteFlag.Invisible, false)
        scene.cameraFollowSprite(thePlayer)
        for (let value2 of sprites.allOfKind(SpriteKind.SelectableCharacter)) {
            value2.destroy()
        }
        for (let value3 of sprites.allOfKind(SpriteKind.Background)) {
            value3.destroy()
        }
        for (let value4 of sprites.allOfKind(SpriteKind.Text)) {
            value4.destroy()
        }
        controller.moveSprite(thePlayer, 100, 0)
        showCharacterScreen = false
    } else {
        thePlayer.vy = -100
    }
})
controller.left.onEvent(ControllerButtonEvent.Pressed, function () {
    if (showCharacterScreen) {
        current_character_index = (current_character_index + (ourCharacters.length - 1)) % ourCharacters.length
    }
})
function show_character_picker () {
    scene.centerCameraAt(80, 60)
    showCharacterScreen = true
    melkesjokolade = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.SelectableCharacter)
    melkesjokolade.z = 101
    melkesjokolade.setPosition(32, 67)
    sprites.setDataSprite(melkesjokolade, "player", melkesjokolade)
    textSprite = textsprite.create("Velg din karakter:", 9, 10)
    textSprite.z = 101
    textSprite.setPosition(80, 29)
    pringles = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.SelectableCharacter)
    pringles.z = 101
    pringles.setPosition(73, 67)
    sprites.setDataSprite(pringles, "player", pringles)
    potet = sprites.create(img`
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        . . . . . . . . . . . . . . . . 
        `, SpriteKind.SelectableCharacter)
    potet.z = 101
    potet.setPosition(126, 67)
    sprites.setDataSprite(potet, "player", potet)
    ourCharacters = [melkesjokolade, pringles, potet]
    current_character_index = 1
    character_selector_box = sprites.create(img`
        ffffffffffffffffffffffffffffffffffff
        f2222222222222222222222222222222222f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2................................2f
        f2222222222222222222222222222222222f
        ffffffffffffffffffffffffffffffffffff
        `, SpriteKind.Background)
    character_selector_box.z = 101
}
controller.right.onEvent(ControllerButtonEvent.Pressed, function () {
    if (showCharacterScreen) {
        current_character_index = (current_character_index + 1) % ourCharacters.length
    }
})
spriteutils.createRenderable(100, function (screen2) {
    if (showCharacterScreen) {
        screen2.fill(1)
        currently_selected_character = ourCharacters[current_character_index]
        character_selector_box.setPosition(currently_selected_character.x, currently_selected_character.y)
    }
})
let character_selector_box: Sprite = null
let textSprite: TextSprite = null
let ourCharacters: Sprite[] = []
let current_character_index = 0
let currently_selected_character: Sprite = null
let thePlayer: Sprite = null
let showCharacterScreen = false
let potet: Sprite = null
let pringles: Sprite = null
let melkesjokolade: Sprite = null
game.splash("Welcome To Food Smashers!")
let gravity = 500
melkesjokolade = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
pringles = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
potet = sprites.create(img`
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    . . . . . . . . . . . . . . . . 
    `, SpriteKind.Player)
scene.setBackgroundColor(8)
scene.setBackgroundImage(img`
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    ...................................................................1............................................................................................
    .............................................11...................11.....................111....................................................................
    ............................................1111.................111....................1111....................................................................
    ...........................................1111111...............1111.................1111111...................................................................
    ...........................................11111111..............1111..............11111111111......................1111........................................
    ...........................................1111111111..........1111111...........1111111111111...................1111111........................................
    ...........................................111111111111.......11111111..........11111111111111.................111111111........................................
    ...........................................11111111111111....1111111111........11111111111111................1111111111.........................................
    ............................................1111111111111111111111111111......111111111111111.............111111111111..........................................
    ............................................1111111111111111111111111111111111111111111111111............111111111111........................444444.............
    ............................................1111111111111111111111111111111111111111111111111..........111111111111........................44444444.............
    .............................................111111111111111111111111111111111111111111111111.........111111111111........................444444444.............
    .............................................111111111111111111111111111111111111111111111111.......11111111111111.......................444444444..............
    .............................................1111111111111111111111111111111111111111111111111....1111111111111..........................444444444..............
    ................444..........................1111111111111111111111111111111111111111111111111111111111111111............................444444.................
    .............444444...........................11111111111111111111111111111111111111111111111111111111111111..............................444...................
    ............4444444...........................1111111111111111111111111111111111111111111111111111111111111.....................................................
    ...........44444444...........................111111111111111111111111111122222222222221111111111111111111......................................................
    ..........444444444............................1111111111111111111111112222222222222222222111111111111111...........44..........................................
    ..........444444444............................1111111111111111111111222222222222222222222221111111111111.........44444.........................................
    .........444444444.............................11111111111111111111122222222222222222222222221111111111111........444444........................................
    .........444444444.............................111111111111111111122222222fffffffffffff2222222211111111111.......44444444.......................................
    .........444444444.............................1111111111111111112222222fffffffffffffffff222222211111111111......444444444......................................
    .........44444444..............................11111111111111111222222fffffffffffffffffffff22222211111111111.....4444444444.....................................
    .........4444444...............................1111111111111111222222fffffffffffffffffffffff22222211111111111.....4444444444....................................
    ..........44444................................111111111111111222222fffffffffffffffffffffffff222222111111111111...44444444444...................................
    ....................................11........111111111111111122222fffffffffffffffffffffffffff22222111111111111...44444444444.......................4...........
    ....................................111111111111111111111111122222fffffffffffffffffffffffffffff22222111111111111...44444444444......................44..........
    ....................................11111111111111111111111122222fffffffffffffffffffffffffffffff2222211111111111....44444444444.....................444.........
    ....................................1111111111111111111111112222fffffffffffffffffffffffffffffffff2222111111111111....4444444444.....................4444........
    ....................................1111111111111111111111122222fffffffffffffffffffffffffffffffff2222211111111111.....44444444.4....................4444........
    .....................................11111111111111111111112222fffffffffffffffffffffffffffffffffff2222111111111111.....4444444444...................4444........
    .....................................11111111111111111111112222fffffffffffffffffffffffffffffffffff2222111111111111......44444444444.................444444......
    .....................................1111111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111.......4444444444................4444444.....
    ......................................111111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111........4444444444...............44444444....
    ......................................111111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111.........444444444...............44444444....
    ......................................111111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111...........4444444...............444444444...
    ......................................111111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111............444444...............444444444...
    ......................................111111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111..............4444................44444444...
    .......................................11111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111...............444.................4444444...
    ........................................1111111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111111................44.................4444444...
    ........................................1111111111111111112222fffffffffffffffffffffffffffffffffffff222211111111111.....................................444444...
    ..........................................11111111111111112222fffffffffffffffffffffffffffffffffffff2222111111111................................................
    ...........................................1111111111111112222fffffffffffffffffffffffffffffffffffff22221111111..................................................
    ...........................................1111111111111112222fffffffffffffffffffffffffffffffffffff22221111111..................................................
    ...........................................1111111111111112222fffffffffffffffffffffffffffffffffffff22221111111..................................................
    ............................................1111111111111112222fffffffffffffffffffffffffffffffffff222211111111..................................................
    .............................................111111111111112222fffffffffffffffffffffffffffffffffff2222111111111.................................................
    ..............................................111111111111122222fffffffffffffffffffffffffffffffff2222211111111111...............................................
    .............................................1111111111111112222fffffffffffffffffffffffffffffffff2222111111111111111............................................
    ............................................111111111111111122222fffffffffffffffffffffffffffffff2222211111111111111111..........................................
    ..........................................111111111111111111122222fffffffffffffffffffffffffffff2222211111111111111111111........................................
    ..........................................1111111111111111111122222fffffffffffffffffffffffffff22222111111111111111111111111.....................................
    .........................................111111111111111111111222222fffffffffffffffffffffffff2222221111111111111111111111111....................................
    .........................................1111111111111111111111222222fffffffffffffffffffffff2222221111111111111111111111111111..................................
    .........................................11111111111111111111111222222fffffffffffffffffffff22222211111111111111111111111111111..................................
    .........................................1111111111111111111111112222222fffffffffffffffff22222221111111111111111111111111111111.................................
    .........................................1111.....111111111111111122222222fffffffffffff2222222211111111111111111111111111111111.................................
    ..............................4444444...................11111111111122222222222222222222222221111111111111111111111111111111111.................................
    .......................444444444444444...................1111111111112222222222222222222222211111111111111111111111111111111111.................................
    .....................444444444444444444...................1111111111111222222222222222222211111111111111111111111111111111111111................................
    ....................44444444444444444444.................11111111111111111222222222222211111111111111111111111111111111111111111................................
    ....................44444444444444444444.................11111111111111111111111111111111111111111111111111111111111111111111111................................
    ....................44444444444444444444................1111111111111111111111111111111111111111111111111111111....1111111111111................................
    ....................4444444444444......................11111111111111111111111111111111111111111111111111111111......11111111111................................
    .......................................................11111111111111111111111111111111111111111111111111111111.........11111111................................
    ......................................................111111111111111111111111111111111111111111111111111111111.................................................
    .....................................................1111111111111111111111111111111111111111.....1111111111111.................................................
    .....................................................11111111111111111111111111111111111111........111111111111.................................................
    ....................................................11111111111111111111111111111111111111..........11111111111.................................................
    ...................................................11111111111111111111111111111111111111............1111111111.................................................
    ..................................................1111111111111.......111111111111111111...............111111111................................................
    .................................................111111111111..........1111111111111111.................11111111................................................
    ................................................11111111111.............11111111111111..................11111111................................................
    ...............................................1111111111...............1111111111111....................11111111...............................................
    ..............................................111111111.................11111111111.......................1111111...............................................
    .............................................111111111.................11111111111.........................111111...............................................
    ............................................1111111111.................1111111111...........................11111...............................................
    ............................................111111111..................111111111.............................1111...............................................
    ...........................................111111111..................111111111.................................................................................
    ...........................................11111111..................111111111..................................................................................
    ...........................................1111111..................111111111...................................................................................
    ...........................................111111...................11111111....................................................................................
    ............................................111....................1111111......................................................................................
    ............................................11.....................1111111......................................................................................
    ...................................................................111111.......................................................................................
    ...................................................................11111........................................................................................
    ....................................................................111.........................................................................................
    ....................................................................11..........................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    ................................................................................................................................................................
    `)
show_character_picker()
music.play(music.createSoundEffect(WaveShape.Sine, 5000, 0, 255, 0, 500, SoundExpressionEffect.None, InterpolationCurve.Linear), music.PlaybackMode.UntilDone)
